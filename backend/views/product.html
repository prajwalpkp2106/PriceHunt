<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Category Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
    />
    <link rel="stylesheet" href="../stylesheet/productstyle.css" class="styl">
    <style>
      /* Add custom styles here if needed */
    </style>
  </head>
  <body class="bg-gray-100 flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-purple-500 text-white py-4">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl font-semibold">Category Name</h1>
        <div class="flex space-x-4">
          <!-- Sort by Price Dropdown -->
          <div class="relative">
            <select
              onchange="sortProductsByPrice(this.value)"
              class="rounded-md px-3 py-2 border-none bg-white text-gray-800"
            >
              <option value="">Sort by Price</option>
              <option value="asc">Price: Low to High</option>
              <option value="desc">Price: High to Low</option>
            </select>
            <div
              class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"
            ></div>
          </div>
          <!-- Sort by Category Dropdown -->
          <div class="relative">
            <select
              onchange="sortProductsByCategory(this.value)"
              class="rounded-md px-3 py-2 border-none bg-white text-gray-800"
            >
              <option value="">Sort by Category</option>
              <option value="category1">Category 1</option>
              <option value="category2">Category 2</option>
              <option value="category3">Category 3</option>
            </select>
            <div
              class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"
            ></div>
          </div>
        </div>
        <!-- View WishList Button -->
        <button
          onclick="toggleWishListVisibility()"
          class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
        >
          View WishList
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto mt-8 px-4 flex-grow">
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"
        id="productGrid"
      >
        <!-- Sample Product Card (Replace with actual product data) -->
        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category1"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 1</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$99.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <!-- Repeat product cards for each category -->
        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category2"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 2</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 2</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$79.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category3"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 3</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 3</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$59.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <!-- Repeat product cards for each category -->
        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category1"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 1</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$99.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <!-- Repeat product cards for each category -->
        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category2"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 2</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 2</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor Lorem ipsum, dolor sit amet consectetur adipisicing elit. Corrupti eos sapiente dolore? Ab ad vel dolorem non doloribus optio undlorem12
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisquam, quide inventore ex adipisci?sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$79.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category3"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 3</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 3</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$59.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <!-- modified here -->
        <div
        class="bg-white rounded-lg shadow-md p-4"
        data-category="category3"
        style="max-height: 400px; overflow-y: auto;"
      >
        <span class="text-xs text-gray-500">Category: Category 3</span>
        <img
          src="https://via.placeholder.com/300"
          alt="Product Image"
          class="w-full h-40 object-cover mb-4"
        />
        <h2 class="text-lg font-semibold">Modified Product</h2>
        <p class="text-gray-600">
          Lorem ipsum dolor sit amet, Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error voluptatum nostrum eum quasi perferendis porro sit, atque sint voluptate mollitia. Voluptatem laboriosam sapiente architecto, nisi at repellendus perspiciatis hic quae ipsum aliquam sit rerum? Temporibus asperiores ipsa commodi aperiam magni perferendis non? Maxime ipsa, natus placeat magnam corrupti quos dicta i ad similique laboriosam illum.
          fermentum.
        </p>
        <div class="mt-4 flex justify-between items-center">
          <span class="text-purple-500 font-semibold">$59.99</span>
          <div class="flex items-center">
            <button onclick="increaseQuantity(this)" class="text-gray-500 mr-2">
              +
            </button>
            <span class="mr-2">1</span>
            <button onclick="decreaseQuantity(this)" class="text-gray-500">
              -
            </button>
          </div>
          <button
            onclick="addToWishList(this)"
            class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
          >
            Add to WishList
          </button>
        </div>
      </div>
      

        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category1"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 1</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$99.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <!-- Repeat product cards for each category -->
        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category2"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 2</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 2</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$79.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <div
          class="bg-white rounded-lg shadow-md p-4"
          data-category="category3"
          style="max-height: 400px; overflow-y: auto;"
        >
          <span class="text-xs text-gray-500">Category: Category 3</span>
          <img
            src="https://via.placeholder.com/300"
            alt="Product Image"
            class="w-full h-40 object-cover mb-4"
          />
          <h2 class="text-lg font-semibold">Product Name 3</h2>
          <p class="text-gray-600">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <div class="mt-4 flex justify-between items-center">
            <span class="text-purple-500 font-semibold">$59.99</span>
            <div class="flex items-center">
              <button
                onclick="increaseQuantity(this)"
                class="text-gray-500 mr-2"
              >
                +
              </button>
              <span class="mr-2">1</span>
              <button onclick="decreaseQuantity(this)" class="text-gray-500">
                -
              </button>
            </div>
            <button
              onclick="addToWishList(this)"
              class="bg-purple-500 text-white px-3 py-1 rounded-md hover:bg-purple-600"
            >
              Add to WishList
            </button>
          </div>
        </div>

        <button id="popup">Open Popup</button>
      </div>
    </div>

    <!-- Shopping WishList -->
    <div
      class="bg-white rounded-lg shadow-md p-4 w-64 fixed top-0 right-0 h-full overflow-y-auto hidden"
    >
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold">Shopping WishList</h2>
        <button
          onclick="toggleWishListVisibility()"
          class="text-purple-500 hover:text-purple-700"
        >
          Close
        </button>
      </div>
      <div id="WishListContainer"></div>
      <div class="flex justify-between mt-4">
        <span class="text-gray-600">Total:</span>
        <span id="totalCost" class="font-semibold">$0.00</span>
      </div>
    </div>

    <!-- JavaScript for Add to WishList functionality, toggling WishList visibility, and updating total cost -->
    <script>
      let totalCost = 0;

      function addToWishList(button) {
        // Get product details
        const productCard = button.closest(".bg-white");
        const productName = productCard.querySelector("h2").textContent;
        const productPrice = parseFloat(
          productCard
            .querySelector(".text-purple-500")
            .textContent.replace("$", "")
        );

        // Create WishList item element
        const WishListItem = document.createElement("div");
        WishListItem.classList.add(
          "bg-white",
          "rounded-lg",
          "shadow-md",
          "p-4",
          "mb-4"
        );
        WishListItem.innerHTML = `
            <div class="flex justify-between items-center mb-2">
                <h2 class="text-lg font-semibold">${productName}</h2>
                <div class="flex items-center">
                    <button onclick="removeWishListItem(this)" class="text-red-500 mr-2">Remove</button>
                </div>
            </div>
            <p class="text-gray-600">$${productPrice.toFixed(2)}</p>
        `;

        // Add WishList item to WishList container
        const WishListContainer = document.querySelector("#WishListContainer");
        WishListContainer.appendChild(WishListItem);

        // Update total cost
        totalCost += productPrice;
        updateTotalCost();
      }

      function removeWishListItem(button) {
        const WishListItem = button.closest(".bg-white");
        const productPrice = parseFloat(
          WishListItem.querySelector("p").textContent.replace("$", "")
        );
        totalCost -= productPrice;
        updateTotalCost();
        WishListItem.remove();
      }

      function increaseQuantity(button) {
        const quantityElement = button.nextElementSibling;
        let quantity = parseInt(quantityElement.textContent);
        quantity++;
        quantityElement.textContent = quantity;
      }

      function decreaseQuantity(button) {
        const quantityElement = button.previousElementSibling;
        let quantity = parseInt(quantityElement.textContent);
        if (quantity > 1) {
          quantity--;
          quantityElement.textContent = quantity;
        }
      }

      function updateTotalCost() {
        const totalCostElement = document.getElementById("totalCost");
        totalCostElement.textContent = `$${totalCost.toFixed(2)}`;
      }

      function toggleWishListVisibility() {
        const WishList = document.querySelector(".bg-white.fixed");
        WishList.classList.toggle("hidden");
      }

      function sortProductsByCategory(category) {
        const productGrid = document.getElementById("productGrid");
        const products = [...productGrid.children];

        // Sort products according to the selected category
        products.forEach((product) => {
          if (category === "" || product.dataset.category === category) {
            product.style.display = "block"; // Show the product
          } else {
            product.style.display = "none"; // Hide the product
          }
        });
      }

      function sortProductsByPrice(order) {
        const productGrid = document.getElementById("productGrid");
        const products = [...productGrid.children];

        // Sort products according to the selected order
        if (order === "asc") {
          products.sort((a, b) => {
            const priceA = parseFloat(
              a.querySelector(".text-purple-500").innerText.slice(1)
            );
            const priceB = parseFloat(
              b.querySelector(".text-purple-500").innerText.slice(1)
            );
            return priceA - priceB;
          });
        } else if (order === "desc") {
          products.sort((a, b) => {
            const priceA = parseFloat(
              a.querySelector(".text-purple-500").innerText.slice(1)
            );
            const priceB = parseFloat(
              b.querySelector(".text-purple-500").innerText.slice(1)
            );
            return priceB - priceA;
          });
        }

        // Clear the product grid
        productGrid.innerHTML = "";

        // Append sorted products to the grid
        products.forEach((product) => {
          productGrid.appendChild(product);
        });
      }
    </script>
  </body>
</html>